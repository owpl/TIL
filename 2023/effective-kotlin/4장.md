## 4장 추상화 설계 

추상화란, 함수를 정의할 때 그 구현을 함수 시그니처 뒤에 숨기는 것.   

추상화의 대표적인 예시 `자동차`

#### Item.26 함수 내부의 추상화 레벨을 통일하라.

추상화 레벨을 통일하여 계층화를 시켜라

> ex) 낮은 레벨의 코드(byte 조작, cache 제어)가 높은 레벨의 코드(Domain)에 노출되선 안됨

#### Item.27 변화로부터 코드를 보호하려면 추상화를 사용하라

- 상수 
- 함수 (이름 및 시그니처를 통해 추상화 가능)
- 클래스 (상태를 갖으므로 더 많은 역할을 수행 가능)
- 인터페이스 (결합도가 줄어듦)

위 단위로 추상화 할 수 있음.


다만 추상화가 극단적으로 진행 될 경우, 오히려 이해하기 어려운 상태가 됨.

> 추상화로 결합도가 낮아지는건 좋으나, 반대로 사람이 이해하기는 어려운 코드가 될 수 있음

`어떻게 균형을 맞춰야하는가?` 

진행하는 프로젝트 레벨 혹은 성격, 컨벤션에 따라 맞추는게 좋음. 


#### Item.28 Api 안정성을 확인하라

Api 안정성을 확인해라.

> 학습테스트 겸, 외부 lib 의 기능을 테스트로 작성하기도 함.

#### Item.29 외부 Api를 wrap해서 사용하라.

Exception 처리나, 동작을 추가/수정할 수 있으므로 Wrap 을 사용하라.

#### Item.30 요소의 가시성을 최소화하라.

공개되어있는 API들은 외부에서 사용할 수 있으므로, 필요한 값이 아니라면 가시성을 최소화하는게 좋음.

`Q. private set 을 쓰는게 맞을까?`

JPA Entity 에 private set 으로 맞춰진 경우, 불편한 점이 많았음.   
ex) Id 값은 생성자에 없고, setter 로만 동작하는데 protected 로 선언.   
test 를 위해 mockObject 를 생성하려고하니, 접근 제한됨.

또한 모든 property 에 private set 을 붙이는게 맞는건가 ??    
DataModel + Domain 을 섞어서 쓰고 있는게 문제인건가 ??

#### Item.31 문서로 규약을 정의하라 / 추상화 규약을 지켜라 

규약을 지켜라.


